import { StatefulCallClient, StatefulDeviceManager } from "../../../../../calling-stateful-client/src";
import { CallAgent, Call, GroupCallLocator, TeamsMeetingLinkLocator, AudioDeviceInfo, VideoDeviceInfo, PermissionConstraints } from '@azure/communication-calling';
import { CallAdapter, CallEndedListener, CallIdChangedListener, CallAdapterState, DisplayNameChangedListener, IsMutedChangedListener, IsLocalScreenSharingActiveChangedListener, IsSpeakingChangedListener, ParticipantsJoinedListener, ParticipantsLeftListener, DiagnosticChangedEventListner } from './CallAdapter';
import { VideoStreamOptions } from "../../../../../react-components/src";
import { CommunicationTokenCredential, CommunicationUserIdentifier } from '@azure/communication-common';
import { AdapterError } from '../../common/adapters';
/**
 * @private
 */
export declare class AzureCommunicationCallAdapter implements CallAdapter {
    private callClient;
    private callAgent;
    private deviceManager;
    private localStream;
    private locator;
    private _call?;
    private context;
    private diagnosticsForwarder?;
    private handlers;
    private participantSubscribers;
    private emitter;
    private onClientStateChange;
    private get call();
    private set call(value);
    constructor(callClient: StatefulCallClient, locator: TeamsMeetingLinkLocator | GroupCallLocator, callAgent: CallAgent, deviceManager: StatefulDeviceManager);
    private bindPublicMethods;
    dispose(): void;
    queryCameras(): Promise<VideoDeviceInfo[]>;
    queryMicrophones(): Promise<AudioDeviceInfo[]>;
    querySpeakers(): Promise<AudioDeviceInfo[]>;
    askDevicePermission(constrain: PermissionConstraints): Promise<void>;
    joinCall(microphoneOn?: boolean): Call | undefined;
    createStreamView(remoteUserId?: string, options?: VideoStreamOptions): Promise<void>;
    disposeStreamView(remoteUserId?: string): Promise<void>;
    leaveCall(): Promise<void>;
    setCamera(device: VideoDeviceInfo, options?: VideoStreamOptions): Promise<void>;
    setMicrophone(device: AudioDeviceInfo): Promise<void>;
    setSpeaker(device: AudioDeviceInfo): Promise<void>;
    startCamera(options?: VideoStreamOptions): Promise<void>;
    stopCamera(): Promise<void>;
    mute(): Promise<void>;
    unmute(): Promise<void>;
    startScreenShare(): Promise<void>;
    stopScreenShare(): Promise<void>;
    startCall(participants: string[]): Call | undefined;
    removeParticipant(userId: string): Promise<void>;
    getState(): CallAdapterState;
    onStateChange(handler: (state: CallAdapterState) => void): void;
    offStateChange(handler: (state: CallAdapterState) => void): void;
    on(event: 'participantsJoined', listener: ParticipantsJoinedListener): void;
    on(event: 'participantsLeft', listener: ParticipantsLeftListener): void;
    on(event: 'isMutedChanged', listener: IsMutedChangedListener): void;
    on(event: 'callIdChanged', listener: CallIdChangedListener): void;
    on(event: 'isLocalScreenSharingActiveChanged', listener: IsLocalScreenSharingActiveChangedListener): void;
    on(event: 'displayNameChanged', listener: DisplayNameChangedListener): void;
    on(event: 'isSpeakingChanged', listener: IsSpeakingChangedListener): void;
    on(event: 'callEnded', listener: CallEndedListener): void;
    on(event: 'diagnosticChanged', listener: DiagnosticChangedEventListner): void;
    on(event: 'error', errorHandler: (e: AdapterError) => void): void;
    private subscribeCallEvents;
    private unsubscribeCallEvents;
    private isMyMutedChanged;
    private onRemoteParticipantsUpdated;
    private isScreenSharingOnChanged;
    private callIdChanged;
    private resetDiagnosticsForwarder;
    off(event: 'participantsJoined', listener: ParticipantsJoinedListener): void;
    off(event: 'participantsLeft', listener: ParticipantsLeftListener): void;
    off(event: 'isMutedChanged', listener: IsMutedChangedListener): void;
    off(event: 'callIdChanged', listener: CallIdChangedListener): void;
    off(event: 'isLocalScreenSharingActiveChanged', listener: IsLocalScreenSharingActiveChangedListener): void;
    off(event: 'displayNameChanged', listener: DisplayNameChangedListener): void;
    off(event: 'isSpeakingChanged', listener: IsSpeakingChangedListener): void;
    off(event: 'callEnded', listener: CallEndedListener): void;
    off(event: 'diagnosticChanged', listener: DiagnosticChangedEventListner): void;
    off(event: 'error', errorHandler: (e: AdapterError) => void): void;
    private asyncTeeErrorToEventEmitter;
}
/**
 * Arguments for creating the Azure Communication Services implementation of {@link CallAdapter}.
 *
 * Note: `displayName` can be a maximum of 256 characters.
 *
 * @public
 */
export declare type AzureCommunicationCallAdapterArgs = {
    userId: CommunicationUserIdentifier;
    displayName: string;
    credential: CommunicationTokenCredential;
    locator: TeamsMeetingLinkLocator | GroupCallLocator;
};
/**
 * Create a {@link CallAdapter} backed by Azure Communication Services.
 *
 * This is the default implementation of {@link CallAdapter} provided by this library.
 *
 * Note: `displayName` can be a maximum of 256 characters.
 *
 * @public
 */
export declare const createAzureCommunicationCallAdapter: ({ userId, displayName, credential, locator }: AzureCommunicationCallAdapterArgs) => Promise<CallAdapter>;
/**
 * Create a {@link CallAdapter} using the provided {@link StatefulCallClient}.
 *
 * Useful if you want to keep a reference to {@link StatefulCallClient}.
 * Consider using {@link createAzureCommunicationCallAdapter} for a simpler API.
 *
 * @public
 */
export declare const createAzureCommunicationCallAdapterFromClient: (callClient: StatefulCallClient, callAgent: CallAgent, locator: TeamsMeetingLinkLocator | GroupCallLocator) => Promise<CallAdapter>;
//# sourceMappingURL=AzureCommunicationCallAdapter.d.ts.map